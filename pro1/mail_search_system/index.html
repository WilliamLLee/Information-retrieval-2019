<!--<script src="./src/jquery.js"></script>-->


<!--&lt;!&ndash; import Vue before Element &ndash;&gt;-->



<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <!-- import CSS -->
    <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
    <title>Flask AJAX Demo</title>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
</head>
<body>

<strong>
    <center>MAIL QUERY SYSTEM</center>
</strong> <br><br>
<strong>Choose query type:</strong>
<select id="typeSelect" name="typeSelect">
    <option value="-D">Date</option>
    <option value="-F">From</option>
    <option value="-T">To</option>
    <option value="-S">Subject</option>
    <option value="-C" selected>Content</option>
</select><br><br>
<strong>Enter the query information:</strong>
<input type="text" size="50" id="echoText" name="echoText">
<button onclick="TextSearch()" type="button" id="submitBtn" name="submitBtn">TextSearch</button>
<br><br>
<strong>Search by Voice: </strong>
<button onclick="Recording()" type="button" id="startRecord" name="recording">Recording</button>
<button onclick="AudioSearch()" type="button" id="voiceSearch" name="voiceSearch">VoiceSearch</button>
<br><br>

<strong>query result as follows:</strong><br><br>



</body>

<script src="http://apps.bdimg.com/libs/jquery/2.1.4/jquery.js"></script>
<script>
        function TextSearch(){
	    var select = document.getElementById('typeSelect');
	    var index = select.selectedIndex;
	    var v = select.options[index].value;
        $.ajax({
        data:{
            'sentence':$('#echoText').val(),
             'type_s': v,
        },
        url: "http://127.0.0.1:5000/",
        type: "POST",
        dataType: "JSON",
        success: function (rep) {
            $('#tableData').val = rep;
            console.log(rep);
        },error:function(error){
            console.log('error');
            console.log(error);
        }
        })
        };
    function Recording(){
	     $.ajax({
        url: "http://127.0.0.1:5000/recording",
        type: "GET",
        dataType: "text",
        success: function (rep) {
            console.log(rep);
        },error:function(error){
            console.log('error');
            console.log(error);
        }
        })
   };
   function AudioSearch(){
        var select = document.getElementById('typeSelect');
	    var index = select.selectedIndex;
	    var v = select.options[index].value;
	     $.ajax({
        data:{
             'type_s': v
        },
        url: "http://127.0.0.1:5000/audio",
        type: "POST",
        dataType: "JSON",
        success: function (rep) {
            console.log(rep);
        },error:function(error){
            console.log('error');
            console.log(error);
        }
        })
   }

</script>
</html>

